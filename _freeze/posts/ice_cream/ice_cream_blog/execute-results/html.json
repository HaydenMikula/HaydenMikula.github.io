{
  "hash": "e9547afea6748c64a2d6483964304207",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Ice Cream Blog\"\nformat: html\ndate: 2025-03-24\ncategories: [R, ggplot, Ice Cream]\nimage: ben-jerrys-shop.jpg\nexecute: \n  warning: false\n  message: false\ntoc: true\neditor: \n  markdown: \n    wrap: 72\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggthemes)\nlibrary(scales)\n```\n:::\n\n\n\n## Descriptive Statistics\n\nLet's take a look at the ice_cream Data Frame, which details Ben & Jerry's ice cream transactions across various regions and households:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nice_cream <- read_csv('https://bcdanl.github.io/data/ben-and-jerry-cleaned.csv')\n```\n:::\n\n\n\nSome descriptive statistics for the averages of Ice Cream Price, Coupon Discount, and Household Income are shown below for each of the available regions\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nice_cream |> filter(couponper1 > 0) |> group_by(region) |> \n  summarise(mean_price = mean(priceper1, na.rm=T),\n            mean_coup = mean(couponper1, na.rm=T),\n            mean_inc = mean(household_income, na.rm=T))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 4\n  region  mean_price mean_coup mean_inc\n  <chr>        <dbl>     <dbl>    <dbl>\n1 Central       3.44      1.39  123565.\n2 East          3.44      1.12  119340.\n3 South         3.36      1.22  130505.\n4 West          3.29      1.03  125735.\n```\n\n\n:::\n:::\n\n\n\n## Household Size and Ice Cream Purchases\n\nAlong with this, we'll look at a count of the prevalent household sizes in each region:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nice_cream_n <- ice_cream |> group_by(region, household_size) |> count(household_size) |> arrange(-n)\nice_cream_n\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 36 × 3\n# Groups:   region, household_size [36]\n   region  household_size     n\n   <chr>            <dbl> <int>\n 1 South                2  2870\n 2 Central              2  1993\n 3 West                 2  1812\n 4 East                 2  1797\n 5 West                 1  1682\n 6 South                1  1604\n 7 West                 3  1063\n 8 Central              1  1016\n 9 South                3  1005\n10 East                 1   971\n# ℹ 26 more rows\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ice_cream, aes(y = household_size,\n                      fill = region)) +\n  geom_bar() +\n  scale_y_continuous(breaks = c(0,2,4,6,8)) +\n  facet_wrap(~region) +\n  labs(x = \"# of Ice Cream Bought\",\n       y = \"Household Size\",\n       fill = \"Region\",\n       title = \"Ice Cream Purchases by Regional Household Size\") +\n  scale_fill_tableau() +\n  theme_minimal() +\n  theme(strip.background = element_rect(fill = 'gray90',\n                                        color = 'transparent'))\n```\n\n::: {.cell-output-display}\n![](ice_cream_blog_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nFrom this, it appears that there is a consistent relationship where 2 person households purchase Ben & Jerry's the most, followed by 1, 3, 4, and 5 person households across the 4 regions. The South has the most purchases overall, and Central has the least.\n\n\n## Marriage and Ice Cream Purchases\n\nSimilarly, we can visualize how purchases are influenced by the income and marriage status of each household:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nice_cream2 <- ice_cream\n\nice_cream2$household_income <- as.factor(ice_cream2$household_income)\n\nggplot(ice_cream2, aes(y = household_income,\n                      fill = married)) +\n  geom_bar() +\n  labs(x = \"# of Ice Cream Bought\",\n       y = \"Household Income Bracket (in dollars)\",\n       title = \"Ice Cream Purchases by Income Bracket\",\n       fill = \"Married\") +\n  guides(fill = guide_legend(reverse = T)) +\n  scale_fill_tableau() +\n  theme_minimal() +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](ice_cream_blog_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nThis shows that many of Ben & Jerry's sales come from households between an income range of $70,000-$140,000 (because the 130,000 income bracket covers from 130,000 to 140,000), and that the ratio of married to unmarried households is much higher as incomes become lower. \n\nVisualizing this with a \"filled\" bar chart, we can more easily notice this relationship, where there is a high percentage of married, low income households:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninc_married_pct <- ice_cream |> group_by(household_income, married) |> summarise(n = n()) |> mutate(pct = n / sum(n))\n\nggplot(inc_married_pct, aes(x = pct,\n                        y = reorder(household_income, pct),\n                        fill = married)) +\n  geom_col() +\n  scale_x_continuous(labels = scales::percent) +\n  scale_fill_tableau() +\n  guides(fill = guide_legend(reverse = TRUE)) +\n  labs(x = NULL,\n       y = \"Household Income Bracket (in dollars)\",\n       fill = \"Married\",\n       title = \"Married Households Across Income Brackets\") +\n  theme(plot.title = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](ice_cream_blog_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "ice_cream_blog_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}